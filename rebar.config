{erl_opts, [no_debug_info]}.
{deps, [{getopt, "0.8.2"}, {unite, "0.2.0"}]}.

{escript_incl_apps, [par]}.
{escript_main_app, par}.
{escript_name, par}.
{escript_emu_args, "%%! -escript main par\n"}.
{escript_incl_extra, [{"par/src/lib/*.par", ".."}]}.

{profiles, [
  {test, [{erl_opts, [debug_info]}]}
]}.

{eunit_tests, [
  {inparallel, 8, [
    parser_test,
    reporter_test,
    bootstrap_test,
    type_system_test
  ]},
  % stdlib needs to be separate because it loads new stdlibs
  stdlib_test,
  % exec is separate because it isn't parallelizable yet
  exec_test
]}.

{eunit_opts, [no_tty, {report, {unite_compact, []}}]}.
% {eunit_opts, [{eunit_formatters, false}]}.
